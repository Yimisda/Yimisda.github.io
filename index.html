<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="北京大学信息科学技术学院学生个人学术主页 - 计算机科学研究与技术分享">
    <meta name="keywords" content="PKU, 北大, 信科, 学术研究, LaTeX, 数学公式">
    <meta name="author" content="Yimisda">

    <title>Yimisda - PKU EE | 北京大学信息科学技术学院</title>

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- Enhanced Fonts for Academic Content -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Source+Serif+Pro:wght@400;600;700&family=JetBrains+Mono:wght@400;500;600&family=Computer+Modern+Serif:wght@400;700&family=Latin+Modern+Roman:wght@400;700&display=swap" rel="stylesheet">

    <!-- External Libraries -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

    <!-- Enhanced MathJax Configuration for LaTeX Support -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                processRefs: true,
                packages: {'[+]': ['ams', 'amsmath', 'amssymb', 'newcommand', 'mathtools', 'physics', 'cancel', 'color']},
                macros: {
                    R: "\\mathbb{R}",
                    C: "\\mathbb{C}",
                    N: "\\mathbb{N}",
                    Z: "\\mathbb{Z}",
                    Q: "\\mathbb{Q}",
                    d: "\\mathrm{d}",
                    e: "\\mathrm{e}",
                    i: "\\mathrm{i}",
                    vec: ["\\boldsymbol{#1}", 1],
                    norm: ["\\left\\|#1\\right\\|", 1],
                    abs: ["\\left|#1\\right|", 1]
                }
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process',
                renderActions: {
                    addMenu: [0, '', '']
                }
            },
            svg: {
                fontCache: 'global',
                displayAlign: 'center',
                displayIndent: '0em'
            },
            startup: {
                ready: () => {
                    console.log('MathJax LaTeX支持已加载');
                    MathJax.startup.defaultReady();
                    MathJax.startup.promise.then(() => {
                        console.log('MathJax LaTeX渲染就绪');
                    });
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js"></script>

    <style>
        /* Enhanced CSS Variables for Academic Content */
        :root {
            /* Academic Color Palette */
            --academic-blue: #1e3a8a;
            --academic-navy: #1e293b;
            --academic-red: #dc2626;
            --academic-green: #059669;
            --academic-gold: #d97706;
            --academic-purple: #7c3aed;

            /* Enhanced Color System */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);

            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --accent-hover: #2980b9;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;

            /* Enhanced Text Colors */
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --text-inverse: #ffffff;
            --text-accent: #3182ce;

            /* Enhanced Background System */
            --bg-primary: #ffffff;
            --bg-secondary: #f7fafc;
            --bg-tertiary: #edf2f7;
            --bg-card: rgba(255, 255, 255, 0.95);
            --bg-glass: rgba(255, 255, 255, 0.1);
            --bg-overlay: rgba(0, 0, 0, 0.6);

            /* Enhanced Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.15);
            --shadow-2xl: 0 50px 100px rgba(0, 0, 0, 0.25);

            /* Enhanced Borders */
            --border-color: #e2e8f0;
            --border-color-dark: #cbd5e0;
            --border-radius-sm: 6px;
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 16px;
            --border-radius-2xl: 24px;
            --border-radius-full: 9999px;

            /* Academic Typography System */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-serif: 'Source Serif Pro', 'Computer Modern Serif', Georgia, serif;
            --font-mono: 'JetBrains Mono', 'SF Mono', Consolas, monospace;
            --font-academic: 'Latin Modern Roman', 'Computer Modern Serif', 'Times New Roman', serif;

            /* Spacing System */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;

            /* Animation & Transitions */
            --transition-fast: 0.15s ease;
            --transition-base: 0.2s ease;
            --transition-slow: 0.3s ease;
            --transition-slower: 0.5s ease;

            /* Academic Article Typography */
            --article-font-size: 18px;
            --article-line-height: 1.8;
            --article-max-width: 780px;
            --article-heading-weight: 600;
        }

        /* Dark Theme */
        [data-theme="dark"] {
            --primary-color: #e2e8f0;
            --secondary-color: #cbd5e0;
            --text-primary: #f7fafc;
            --text-secondary: #e2e8f0;
            --text-muted: #a0aec0;
            --text-inverse: #1a202c;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --bg-card: rgba(30, 41, 59, 0.8);
            --bg-glass: rgba(255, 255, 255, 0.05);
            --border-color: #475569;
            --border-color-dark: #64748b;
            --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 20px 25px rgba(0, 0, 0, 0.5);
            --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.6);
        }

        /* Reset & Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-sans);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all var(--transition-slow);
            overflow-x: hidden;
        }

        /* Enhanced Loading States */
        .loading-skeleton {
            background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--bg-secondary) 50%, var(--bg-tertiary) 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Enhanced Particle Canvas */
        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.6;
        }

        /* Enhanced Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            transition: all var(--transition-slow);
        }

        .navbar.scrolled {
            background: var(--bg-card);
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(24px);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-4) var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            text-decoration: none;
            transition: all var(--transition-base);
        }

        .nav-brand:hover {
            transform: scale(1.05);
        }

        .brand-logo {
            width: 32px;
            height: 32px;
            background: var(--primary-gradient);
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .brand-badge {
            background: var(--accent-color);
            color: white;
            padding: var(--space-1) var(--space-3);
            border-radius: var(--border-radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .nav-links {
            display: flex;
            gap: var(--space-6);
            align-items: center;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            position: relative;
            padding: var(--space-2) var(--space-3);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-base);
        }

        .nav-link:hover {
            color: var(--accent-color);
            background: var(--bg-glass);
            transform: translateY(-1px);
        }

        .nav-link.active {
            color: var(--accent-color);
            background: var(--bg-glass);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--accent-color);
            border-radius: 50%;
        }

        /* Enhanced Search */
        .search-container {
            position: relative;
            margin-left: var(--space-4);
        }

        .search-input {
            padding: var(--space-3) var(--space-4);
            padding-left: 2.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-full);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.9rem;
            width: 200px;
            transition: all var(--transition-base);
            outline: none;
        }

        .search-input:focus {
            width: 280px;
            border-color: var(--accent-color);
            background: var(--bg-primary);
            box-shadow: var(--shadow-md);
        }

        .search-icon {
            position: absolute;
            left: var(--space-3);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            transition: all var(--transition-base);
        }

        .search-input:focus + .search-icon {
            color: var(--accent-color);
        }

        /* Enhanced Theme Toggle */
        .theme-toggle {
            background: var(--bg-glass);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-full);
            padding: var(--space-3);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .theme-toggle:hover {
            background: var(--bg-primary);
            border-color: var(--accent-color);
            transform: scale(1.1);
        }

        .theme-icon {
            font-size: 1.1rem;
            transition: all var(--transition-base);
        }

        /* Enhanced Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(135deg,
                var(--bg-secondary) 0%,
                var(--bg-primary) 50%,
                var(--bg-tertiary) 100%);
            padding: var(--space-20) var(--space-6);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%,
                rgba(52, 152, 219, 0.1) 0%,
                transparent 50%),
                radial-gradient(circle at 80% 70%,
                rgba(155, 89, 182, 0.1) 0%,
                transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            max-width: 900px;
            text-align: center;
            z-index: 1;
            position: relative;
        }

        .hero-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 800;
            margin-bottom: var(--space-6);
            color: var(--text-primary);
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .hero-title .highlight {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-8);
            font-weight: 300;
            letter-spacing: 0.02em;
        }

        .hero-badges {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: var(--space-10);
        }

        .hero-badge {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            padding: var(--space-3) var(--space-5);
            border-radius: var(--border-radius-full);
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-base);
            backdrop-filter: blur(10px);
        }

        .hero-badge:hover {
            background: var(--bg-primary);
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .hero-badge .icon {
            color: var(--accent-color);
            font-size: 1.1rem;
        }

        .hero-cta {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-button {
            padding: var(--space-4) var(--space-8);
            border-radius: var(--border-radius-full);
            font-weight: 600;
            text-decoration: none;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-base);
            border: 2px solid transparent;
        }

        .cta-primary {
            background: var(--primary-gradient);
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        .cta-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        .cta-secondary:hover {
            background: var(--bg-primary);
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Enhanced Stats Section */
        .stats-section {
            padding: var(--space-20) var(--space-6);
            background: var(--bg-secondary);
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-8);
        }

        .stat-card {
            background: var(--bg-card);
            padding: var(--space-8);
            border-radius: var(--border-radius-xl);
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all var(--transition-base);
            backdrop-filter: blur(10px);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: var(--accent-color);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-2);
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* LaTeX Demo Section Styles */
        .latex-demo-section {
            max-width: 1000px;
            margin: var(--space-16) auto var(--space-8);
            padding: var(--space-6);
        }

        .latex-container {
            background: var(--bg-card);
            border-radius: var(--border-radius-xl);
            padding: var(--space-10);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }

        .latex-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-8);
            text-align: center;
            font-family: var(--font-academic);
        }

        .latex-examples {
            display: grid;
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        .latex-example {
            background: var(--bg-secondary);
            padding: var(--space-6);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--border-color);
        }

        .latex-example h4 {
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            font-weight: 600;
            font-family: var(--font-sans);
        }

        .latex-example p {
            color: var(--text-secondary);
            line-height: 1.8;
            font-family: var(--font-academic);
            margin: 0;
        }

        .math-block {
            background: var(--bg-primary);
            padding: var(--space-4);
            border-radius: var(--border-radius-md);
            border: 1px solid var(--border-color);
            text-align: center;
            overflow-x: auto;
        }

        /* GitHub Integration Section Styles */
        .github-integration-section {
            max-width: 1000px;
            margin: var(--space-16) auto;
            padding: var(--space-6);
        }

        .github-container {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-xl);
            padding: var(--space-10);
            border: 1px solid var(--border-color);
        }

        .github-controls {
            display: flex;
            gap: var(--space-4);
            margin-bottom: var(--space-8);
            flex-wrap: wrap;
        }

        .github-input {
            flex: 1;
            min-width: 300px;
            padding: var(--space-4) var(--space-5);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: all var(--transition-base);
            outline: none;
        }

        .github-input:focus {
            border-color: var(--accent-color);
            box-shadow: var(--shadow-md);
        }

        .github-demo {
            display: flex;
            align-items: center;
            gap: var(--space-6);
            padding: var(--space-6);
            background: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--border-color);
        }

        .demo-icon {
            font-size: 3rem;
            color: var(--accent-color);
            opacity: 0.8;
        }

        .demo-text {
            color: var(--text-secondary);
            line-height: 1.7;
            margin: 0;
        }

        /* GitHub Redirect Styles */
        .github-redirect {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .github-link {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4) var(--space-6);
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-full);
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: all var(--transition-base);
        }

        .github-link:hover {
            background: #24292e;
            color: white;
            border-color: #24292e;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .github-link .fab {
            font-size: 1.2rem;
        }

        .github-link .fas {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Empty State Styles */
        .empty-state {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
            padding: var(--space-16);
        }

        .empty-state-content {
            text-align: center;
            max-width: 500px;
        }

        .empty-icon {
            margin-bottom: var(--space-6);
        }

        .empty-icon i {
            font-size: 4rem;
            color: var(--text-muted);
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
        }

        .empty-description {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: var(--space-8);
            font-size: 1.1rem;
        }

        .empty-actions {
            display: flex;
            justify-content: center;
        }

        /* Enhanced Articles Section */
        .articles-section {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-20) var(--space-6);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-12);
            flex-wrap: wrap;
            gap: var(--space-4);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: var(--space-8);
        }

        .article-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-xl);
            overflow: hidden;
            transition: all var(--transition-slow);
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .article-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
            border-color: var(--accent-color);
        }

        .article-image {
            width: 100%;
            height: 220px;
            background: var(--primary-gradient);
            position: relative;
            overflow: hidden;
        }

        .article-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(transparent, rgba(0,0,0,0.3));
        }

        .article-content {
            padding: var(--space-6);
        }

        .article-meta {
            display: flex;
            gap: var(--space-4);
            margin-bottom: var(--space-3);
            font-size: 0.85rem;
            color: var(--text-muted);
            align-items: center;
        }

        .article-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            line-height: 1.4;
        }

        .article-excerpt {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: var(--space-4);
        }

        .article-tags {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
            margin-bottom: var(--space-4);
        }

        .tag {
            padding: var(--space-1) var(--space-3);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-full);
            font-size: 0.8rem;
            color: var(--text-secondary);
            transition: all var(--transition-base);
        }

        .tag:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .article-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: var(--space-4);
            border-top: 1px solid var(--border-color);
        }

        .read-more {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-base);
        }

        .read-more:hover {
            gap: var(--space-3);
        }

        /* Mobile Navigation */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-primary);
            cursor: pointer;
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            padding: var(--space-6);
            z-index: 999;
        }

        .mobile-menu.active {
            display: block;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .mobile-nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            padding: var(--space-3);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-base);
        }

        .mobile-nav-link:hover,
        .mobile-nav-link.active {
            background: var(--bg-secondary);
            color: var(--accent-color);
        }

        /* Enhanced Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: var(--space-20) var(--space-6) var(--space-8);
            margin-top: var(--space-20);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-10);
        }

        .footer-section h4 {
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            font-weight: 600;
        }

        .footer-section p,
        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            line-height: 1.8;
            transition: all var(--transition-base);
        }

        .footer-section a:hover {
            color: var(--accent-color);
        }

        .social-links {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-4);
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            color: var(--text-secondary);
            transition: all var(--transition-base);
        }

        .social-link:hover {
            background: var(--accent-color);
            color: white;
            transform: translateY(-2px);
        }

        .footer-bottom {
            max-width: 1200px;
            margin: var(--space-8) auto 0;
            padding-top: var(--space-8);
            border-top: 1px solid var(--border-color);
            text-align: center;
            color: var(--text-muted);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            :root {
                --space-6: 1rem;
                --space-8: 1.5rem;
                --space-10: 2rem;
                --space-12: 2.5rem;
                --space-16: 3rem;
                --space-20: 4rem;
                --article-font-size: 16px;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .search-container {
                margin-left: var(--space-2);
            }

            .search-input {
                width: 120px;
            }

            .search-input:focus {
                width: 160px;
            }

            .hero {
                padding: var(--space-16) var(--space-4);
                min-height: 80vh;
            }

            .hero-badges {
                gap: var(--space-2);
            }

            .hero-cta {
                flex-direction: column;
                align-items: center;
            }

            .cta-button {
                width: 100%;
                max-width: 280px;
                justify-content: center;
            }

            .articles-grid {
                grid-template-columns: 1fr;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-4);
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                text-align: left;
            }

            .github-controls {
                flex-direction: column;
            }

            .github-input {
                min-width: 100%;
            }

            .github-demo {
                flex-direction: column;
                text-align: center;
            }

            .demo-icon {
                font-size: 2.5rem;
            }

            .latex-examples {
                gap: var(--space-4);
            }

            .latex-example {
                padding: var(--space-4);
            }

            .math-block {
                font-size: 0.9rem;
                padding: var(--space-3);
            }
        }

        @media (max-width: 480px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        /* Enhanced Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translateY(0);
            }
            40%, 43% {
                transform: translateY(-30px);
            }
            70% {
                transform: translateY(-15px);
            }
            90% {
                transform: translateY(-4px);
            }
        }

        .animate-fade-in {
            animation: fadeInUp 0.8s ease-out;
        }

        .animate-slide-in {
            animation: slideInLeft 0.8s ease-out;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-bounce {
            animation: bounce 2s infinite;
        }

        /* Utility Classes */
        .text-gradient {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .glass-effect {
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(52, 152, 219, 0.3);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-sm);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-muted);
            border-radius: var(--border-radius-sm);
            transition: all var(--transition-base);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 100px;
            right: var(--space-6);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            padding: var(--space-4) var(--space-6);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            box-shadow: var(--shadow-xl);
            z-index: 2000;
            min-width: 300px;
            transform: translateX(120%);
            transition: transform var(--transition-base);
            backdrop-filter: blur(10px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.error {
            border-left: 4px solid var(--danger-color);
        }

        .notification i {
            font-size: 1.2rem;
        }

        .notification.success i {
            color: var(--success-color);
        }

        .notification.error i {
            color: var(--danger-color);
        }

        .notification span {
            flex: 1;
            color: var(--text-primary);
        }

        .close-notification {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            padding: 0;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-base);
        }

        .close-notification:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <canvas id="particles-canvas"></canvas>

    <!-- Enhanced Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#home" class="nav-brand">
                <div class="brand-logo">EE</div>
                <span>Yimisda</span>
                <span class="brand-badge">PKU</span>
            </a>

            <div class="nav-menu">
                <div class="nav-links">
                    <a href="#home" class="nav-link active">首页</a>
                    <a href="#articles" class="nav-link">文章</a>
                    <a href="#research" class="nav-link">研究</a>
                    <a href="#projects" class="nav-link">项目</a>
                    <a href="#about" class="nav-link">关于</a>
                </div>

                <div class="search-container">
                    <input type="text" class="search-input" placeholder="搜索..." id="searchInput">
                    <i class="fas fa-search search-icon"></i>
                </div>

                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon theme-icon" id="themeIcon"></i>
                </button>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-nav-links">
                <a href="#home" class="mobile-nav-link active">首页</a>
                <a href="#articles" class="mobile-nav-link">文章</a>
                <a href="#research" class="mobile-nav-link">研究</a>
                <a href="#projects" class="mobile-nav-link">项目</a>
                <a href="#about" class="mobile-nav-link">关于</a>
            </div>
        </div>
    </nav>

    <!-- Enhanced Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content animate-fade-in">
            <h1 class="hero-title">
                Hi, I'm <span class="highlight">Yimisda</span>
            </h1>
            <p class="hero-subtitle">
                PKU EECS Student & Research Enthusiast
            </p>

            <div class="hero-badges">
                <div class="hero-badge hover-glow">
                    <i class="fas fa-graduation-cap icon"></i>
                    <span>PKU 2024级</span>
                </div>
                <div class="hero-badge hover-glow">
                    <i class="fas fa-code icon"></i>
                    <span>Full Stack Developer</span>
                </div>
                <div class="hero-badge hover-glow">
                    <i class="fas fa-robot icon"></i>
                    <span>AI Researcher</span>
                </div>
                <div class="hero-badge hover-glow">
                    <i class="fas fa-pen-fancy icon"></i>
                    <span>Academic Writer</span>
                </div>
            </div>

            <div class="hero-cta">
                <a href="#articles" class="cta-button cta-primary">
                    <i class="fas fa-book-open"></i>
                    查看文章
                </a>
                <a href="#about" class="cta-button cta-secondary">
                    <i class="fas fa-user"></i>
                    了解更多
                </a>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stat-card animate-fade-in hover-glow">
                <div class="stat-number" data-target="50">0</div>
                <div class="stat-label">技术文章</div>
            </div>
            <div class="stat-card animate-fade-in hover-glow">
                <div class="stat-number" data-target="15">0</div>
                <div class="stat-label">开源项目</div>
            </div>
            <div class="stat-card animate-fade-in hover-glow">
                <div class="stat-number" data-target="8">0</div>
                <div class="stat-label">研究论文</div>
            </div>
            <div class="stat-card animate-fade-in hover-glow">
                <div class="stat-number" data-target="1000">0</div>
                <div class="stat-label">GitHub Stars</div>
            </div>
        </div>
    </section>

    <!-- LaTeX Demo Section -->
    <section class="latex-demo-section" id="latex-demo">
        <div class="latex-container">
            <h3 class="latex-title">LaTeX数学公式渲染测试</h3>
            <div class="latex-examples">
                <div class="latex-example">
                    <h4>行内公式示例:</h4>
                    <p>欧拉公式: $e^{i\pi} + 1 = 0$ 和质能方程 $E = mc^2$</p>
                </div>

                <div class="latex-example">
                    <h4>块级公式示例:</h4>
                    <div class="math-block">
                        $$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$
                    </div>
                </div>

                <div class="latex-example">
                    <h4>矩阵与方程组:</h4>
                    <div class="math-block">
                        $$\begin{pmatrix}
                        a & b \\
                        c & d
                        \end{pmatrix}
                        \begin{pmatrix}
                        x \\
                        y
                        \end{pmatrix}
                        =
                        \begin{pmatrix}
                        ax + by \\
                        cx + dy
                        \end{pmatrix}$$
                    </div>
                </div>

                <div class="latex-example">
                    <h4>复杂数学表达式:</h4>
                    <div class="math-block">
                        $$\frac{\partial}{\partial t}\int_{\Omega} u \, d\mathbf{x} = \int_{\partial\Omega} \mathbf{F} \cdot \mathbf{n} \, dS$$
                    </div>
                </div>
            </div>

            <button id="re-render-latex" class="cta-button cta-secondary">
                <i class="fas fa-square-root-alt"></i>
                重新渲染LaTeX公式
            </button>
        </div>
    </section>

    <!-- GitHub Integration Section -->
    <section class="github-integration-section">
        <div class="github-container">
            <h2 class="section-title">GitHub项目展示</h2>
            <div class="github-controls">
                <input type="text" id="github-repo-input" class="github-input"
                       placeholder="输入GitHub仓库地址 (如: https://github.com/username/repo)"
                       value="https://github.com/Yimisda/">
                <button id="generate-from-github" class="cta-button cta-primary">
                    <i class="fab fa-github"></i>
                    生成项目卡片
                </button>
            </div>
            <div class="github-demo">
                <div class="demo-icon">
                    <i class="fab fa-github"></i>
                </div>
                <p class="demo-text">
                    输入您的GitHub仓库链接，系统将自动获取项目信息并生成精美的展示卡片。
                    支持README解析、语言统计、LaTeX公式渲染等功能。
                </p>
            </div>
        </div>
    </section>

    <!-- Enhanced Articles Section -->
    <section class="articles-section" id="articles">
        <div class="section-header">
            <h2 class="section-title">学术文章</h2>
            <div class="github-redirect">
                <a href="https://github.com/Yimisda" class="github-link" target="_blank">
                    <i class="fab fa-github"></i>
                    <span>访问我的GitHub查看所有项目与文档</span>
                    <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>

        <div class="empty-state">
            <div class="empty-state-content">
                <div class="empty-icon">
                    <i class="fab fa-github"></i>
                </div>
                <h3 class="empty-title">项目展示区域</h3>
                <p class="empty-description">
                    使用上方的GitHub集成功能生成项目卡片，或直接访问我的GitHub仓库查看完整的项目与研究内容。
                </p>
                <div class="empty-actions">
                    <a href="https://github.com/Yimisda" class="cta-button cta-primary" target="_blank">
                        <i class="fab fa-github"></i>
                        访问GitHub仓库
                    </a>
                </div>
            </div>
        </div>

        <div class="articles-grid" style="display: none;">
            <!-- 动态生成的项目卡片将在这里显示 -->
        </div>
    </section>

    <!-- Enhanced Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>About This Website</h4>
                <p>一个专注于学术研究和技术分享的个人网站，支持LaTeX数学公式和GitHub项目展示的优雅集成。</p>
                <div class="social-links">
                    <a href="https://github.com/Yimisda" class="social-link">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://linkedin.com/in/yourname" class="social-link">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="mailto:yourname@pku.edu.cn" class="social-link">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://scholar.google.com" class="social-link">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4>快速链接</h4>
                <p><a href="#articles">项目展示</a></p>
                <p><a href="#latex-demo">LaTeX演示</a></p>
                <p><a href="#research">研究成果</a></p>
                <p><a href="#about">关于我</a></p>
            </div>

            <div class="footer-section">
                <h4>学术资源</h4>
                <p><a href="https://arxiv.org/">arXiv</a></p>
                <p><a href="https://scholar.google.com">Google Scholar</a></p>
                <p><a href="https://www.ieee.org/">IEEE Xplore</a></p>
                <p><a href="https://dblp.org/">DBLP</a></p>
            </div>

            <div class="footer-section">
                <h4>友情链接</h4>
                <p><a href="https://www.pku.edu.cn">北京大学</a></p>
                <p><a href="https://eecs.pku.edu.cn">信息科学技术学院</a></p>
                <p><a href="https://cs.pku.edu.cn">计算机科学技术系</a></p>
                <p><a href="https://www.icst.pku.edu.cn">前沿计算研究中心</a></p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2024 Yimisda. All rights reserved. |
               Enhanced with <span class="text-gradient">LaTeX & GitHub Integration</span> |
               Built for Academic Excellence
            </p>
        </div>
    </footer>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-latex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-matlab.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <script>
        // Enhanced Particle System
        class ParticleSystem {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.particles = [];
                this.particleCount = 50;
                this.connectionDistance = 150;

                this.resize();
                this.createParticles();
                this.animate();

                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
            }

            createParticles() {
                for (let i = 0; i < this.particleCount; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        vx: (Math.random() - 0.5) * 0.5,
                        vy: (Math.random() - 0.5) * 0.5,
                        size: Math.random() * 2 + 1
                    });
                }
            }

            animate() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                // Update particles
                this.particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;

                    if (particle.x < 0 || particle.x > this.canvas.width) particle.vx *= -1;
                    if (particle.y < 0 || particle.y > this.canvas.height) particle.vy *= -1;
                });

                // Draw connections
                for (let i = 0; i < this.particles.length; i++) {
                    for (let j = i + 1; j < this.particles.length; j++) {
                        const dx = this.particles[i].x - this.particles[j].x;
                        const dy = this.particles[i].y - this.particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < this.connectionDistance) {
                            const opacity = 1 - distance / this.connectionDistance;
                            this.ctx.strokeStyle = `rgba(52, 152, 219, ${opacity * 0.2})`;
                            this.ctx.lineWidth = 1;
                            this.ctx.beginPath();
                            this.ctx.moveTo(this.particles[i].x, this.particles[i].y);
                            this.ctx.lineTo(this.particles[j].x, this.particles[j].y);
                            this.ctx.stroke();
                        }
                    }
                }

                // Draw particles
                this.particles.forEach(particle => {
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    this.ctx.fillStyle = 'rgba(52, 152, 219, 0.6)';
                    this.ctx.fill();
                });

                requestAnimationFrame(() => this.animate());
            }
        }

        // Initialize particle system
        const particleCanvas = document.getElementById('particles-canvas');
        new ParticleSystem(particleCanvas);

        // Enhanced Theme Toggle
        class ThemeManager {
            constructor() {
                this.toggle = document.getElementById('themeToggle');
                this.icon = document.getElementById('themeIcon');
                this.html = document.documentElement;

                this.currentTheme = localStorage.getItem('theme') ||
                    (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

                this.setTheme(this.currentTheme);
                this.toggle.addEventListener('click', () => this.toggleTheme());

                // Listen for system theme changes
                window.matchMedia('(prefers-color-scheme: dark)')
                    .addEventListener('change', e => {
                        if (!localStorage.getItem('theme')) {
                            this.setTheme(e.matches ? 'dark' : 'light');
                        }
                    });
            }

            setTheme(theme) {
                this.html.setAttribute('data-theme', theme);
                this.icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                this.currentTheme = theme;

                // Re-render MathJax when theme changes
                if (window.MathJax && window.MathJax.typesetPromise) {
                    window.MathJax.typesetPromise().then(() => {
                        console.log('MathJax re-rendered for theme:', theme);
                    });
                }
            }

            toggleTheme() {
                const newTheme = this.currentTheme === 'light' ? 'dark' : 'light';
                this.setTheme(newTheme);
                localStorage.setItem('theme', newTheme);
            }
        }

        new ThemeManager();

        // Enhanced Navigation
        class NavigationManager {
            constructor() {
                this.navbar = document.getElementById('navbar');
                this.mobileToggle = document.getElementById('mobileMenuToggle');
                this.mobileMenu = document.getElementById('mobileMenu');
                this.navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');

                this.initScrollEffect();
                this.initMobileMenu();
                this.initActiveLinks();
            }

            initScrollEffect() {
                let ticking = false;

                window.addEventListener('scroll', () => {
                    if (!ticking) {
                        requestAnimationFrame(() => {
                            if (window.scrollY > 50) {
                                this.navbar.classList.add('scrolled');
                            } else {
                                this.navbar.classList.remove('scrolled');
                            }
                            ticking = false;
                        });
                        ticking = true;
                    }
                });
            }

            initMobileMenu() {
                this.mobileToggle.addEventListener('click', () => {
                    this.mobileMenu.classList.toggle('active');
                    const icon = this.mobileToggle.querySelector('i');
                    icon.className = this.mobileMenu.classList.contains('active') ?
                        'fas fa-times' : 'fas fa-bars';
                });

                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!this.navbar.contains(e.target) && this.mobileMenu.classList.contains('active')) {
                        this.mobileMenu.classList.remove('active');
                        this.mobileToggle.querySelector('i').className = 'fas fa-bars';
                    }
                });
            }

            initActiveLinks() {
                this.navLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();

                        // Remove active from all links
                        this.navLinks.forEach(l => l.classList.remove('active'));
                        link.classList.add('active');

                        // Close mobile menu
                        this.mobileMenu.classList.remove('active');
                        this.mobileToggle.querySelector('i').className = 'fas fa-bars';

                        // Smooth scroll to target
                        const target = document.querySelector(link.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    });
                });
            }
        }

        new NavigationManager();

        // Enhanced Search Manager
        class SearchManager {
            constructor() {
                this.input = document.getElementById('searchInput');
                this.articles = document.querySelectorAll('.article-card');
                this.timeout = null;

                this.input.addEventListener('input', (e) => this.handleSearch(e.target.value));
            }

            handleSearch(query) {
                clearTimeout(this.timeout);
                this.timeout = setTimeout(() => {
                    this.performSearch(query.toLowerCase().trim());
                }, 300);
            }

            performSearch(query) {
                if (!query) {
                    this.articles.forEach(article => {
                        article.style.display = 'block';
                        this.removeHighlights(article);
                    });
                    return;
                }

                this.articles.forEach(article => {
                    const title = article.querySelector('.article-title')?.textContent?.toLowerCase() || '';
                    const excerpt = article.querySelector('.article-excerpt')?.textContent?.toLowerCase() || '';
                    const tags = Array.from(article.querySelectorAll('.tag'))
                        .map(tag => tag.textContent.toLowerCase());

                    const matches = title.includes(query) ||
                                   excerpt.includes(query) ||
                                   tags.some(tag => tag.includes(query));

                    article.style.display = matches ? 'block' : 'none';

                    if (matches) {
                        this.highlightText(article, query);
                    }
                });
            }

            highlightText(element, query) {
                // Simple highlighting implementation
                const walker = document.createTreeWalker(
                    element,
                    NodeFilter.SHOW_TEXT,
                    null,
                    false
                );

                const textNodes = [];
                let node;

                while (node = walker.nextNode()) {
                    textNodes.push(node);
                }

                textNodes.forEach(textNode => {
                    if (textNode.textContent.toLowerCase().includes(query)) {
                        const parent = textNode.parentNode;
                        const regex = new RegExp(`(${query})`, 'gi');
                        const highlighted = textNode.textContent.replace(regex, '<mark>$1</mark>');
                        parent.innerHTML = highlighted;
                    }
                });
            }

            removeHighlights(element) {
                const marks = element.querySelectorAll('mark');
                marks.forEach(mark => {
                    mark.outerHTML = mark.innerHTML;
                });
            }
        }

        new SearchManager();

        // Enhanced GitHub Integration Manager with MD File Support
        class GitHubIntegrationManager {
            constructor() {
                this.input = document.getElementById('github-repo-input');
                this.generateBtn = document.getElementById('generate-from-github');
                this.loadMdBtn = document.getElementById('load-md-files');
                this.articlesGrid = document.querySelector('.articles-grid');
                this.emptyState = document.querySelector('.empty-state');
                this.mdFilesContainer = document.getElementById('md-files-container');
                this.mdFilesList = document.getElementById('md-files-list');

                this.initEventListeners();
            }

            initEventListeners() {
                if (this.generateBtn) {
                    this.generateBtn.addEventListener('click', () => this.generateFromGitHub());
                }

                if (this.loadMdBtn) {
                    this.loadMdBtn.addEventListener('click', () => this.loadMarkdownFiles());
                }

                if (this.input) {
                    this.input.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.generateFromGitHub();
                        }
                    });
                }
            }

            async generateFromGitHub() {
                const repoUrl = this.input?.value?.trim();
                if (!repoUrl) {
                    this.showNotification('请输入GitHub仓库地址', 'error');
                    return;
                }

                const repoInfo = this.parseGitHubUrl(repoUrl);
                if (!repoInfo) {
                    this.showNotification('无效的GitHub仓库地址格式', 'error');
                    return;
                }

                try {
                    this.showLoadingState();
                    const projectData = await this.fetchGitHubData(repoInfo);
                    this.createProjectCard(projectData);
                    this.showNotification('项目卡片生成成功！', 'success');
                } catch (error) {
                    console.error('GitHub数据获取错误:', error);
                    this.showNotification('获取GitHub项目数据失败，请检查仓库地址', 'error');
                } finally {
                    this.hideLoadingState();
                }
            }

            async loadMarkdownFiles() {
                const repoUrl = this.input?.value?.trim();
                if (!repoUrl) {
                    this.showNotification('请先输入GitHub仓库地址', 'error');
                    return;
                }

                const repoInfo = this.parseGitHubUrl(repoUrl);
                if (!repoInfo || repoInfo.isUser) {
                    this.showNotification('请输入具体的仓库地址，不能是用户主页', 'error');
                    return;
                }

                try {
                    this.showMdLoadingState();
                    const mdFiles = await this.fetchMarkdownFiles(repoInfo);

                    if (mdFiles.length === 0) {
                        this.showNotification('仓库中未找到Markdown文件', 'error');
                        return;
                    }

                    this.displayMarkdownFilesList(mdFiles, repoInfo);
                    this.showNotification(`找到 ${mdFiles.length} 个Markdown文件`, 'success');
                } catch (error) {
                    console.error('获取Markdown文件错误:', error);
                    this.showNotification('获取Markdown文件失败，请检查仓库地址', 'error');
                } finally {
                    this.hideMdLoadingState();
                }
            }

            async fetchMarkdownFiles(repoInfo) {
                // 模拟GitHub API调用获取仓库文件列表
                return new Promise((resolve) => {
                    setTimeout(() => {
                        // 模拟返回的Markdown文件列表
                        const mockFiles = [
                            { name: 'README.md', path: 'README.md', type: 'file' },
                            { name: '机器学习笔记.md', path: 'docs/机器学习笔记.md', type: 'file' },
                            { name: '线性代数基础.md', path: 'docs/数学/线性代数基础.md', type: 'file' },
                            { name: '深度学习论文阅读.md', path: 'research/深度学习论文阅读.md', type: 'file' },
                            { name: '算法复杂度分析.md', path: 'notes/算法复杂度分析.md', type: 'file' },
                        ];
                        resolve(mockFiles);
                    }, 1000);
                });
            }

            displayMarkdownFilesList(files, repoInfo) {
                if (this.mdFilesContainer) {
                    this.mdFilesContainer.style.display = 'block';
                }

                if (this.mdFilesList) {
                    this.mdFilesList.innerHTML = '';

                    files.forEach(file => {
                        const fileItem = document.createElement('div');
                        fileItem.className = 'md-file-item';

                        fileItem.innerHTML = `
                            <div class="md-file-info">
                                <i class="fas fa-file-alt md-file-icon"></i>
                                <span class="md-file-name">${file.name}</span>
                            </div>
                            <div class="md-file-actions">
                                <button class="md-action-btn" onclick="gitHubManager.loadMarkdownContent('${file.path}', '${file.name}', '${repoInfo.owner}', '${repoInfo.repo}')">
                                    渲染
                                </button>
                            </div>
                        `;

                        this.mdFilesList.appendChild(fileItem);
                    });
                }
            }

            async loadMarkdownContent(filePath, fileName, owner, repo) {
                try {
                    this.showNotification('正在加载文档内容...', 'success');

                    // 模拟获取文件内容
                    const content = await this.fetchFileContent(filePath, owner, repo);

                    // 预处理LaTeX
                    const processedContent = this.preprocessLaTeX(content);

                    // 转换Markdown为HTML
                    const htmlContent = marked.parse(processedContent);

                    // 显示学术文章模态窗口
                    this.showAcademicArticle(fileName, htmlContent);

                } catch (error) {
                    console.error('加载文档内容错误:', error);
                    this.showNotification('加载文档内容失败', 'error');
                }
            }

            async fetchFileContent(filePath, owner, repo) {
                // 模拟GitHub Raw API调用
                return new Promise((resolve) => {
                    setTimeout(() => {
                        // 根据文件名返回不同的模拟内容
                        const mockContents = {
                            'README.md': `# ${repo}项目说明

这是一个学术研究项目，包含以下内容：

## 项目概述

本项目专注于$AI$和$机器学习$领域的研究，特别是在以下方面：

$f(x) = \\frac{1}{\\sqrt{2\\pi\\sigma^2}} e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}$

### 主要特性

- 支持LaTeX数学公式渲染
- 完整的学术文档体系
- 开源代码实现

## 使用方法

请参考项目文档获取详细说明。`,

                            'docs/机器学习笔记.md': `# 机器学习基础笔记

## 线性回归

线性回归的目标函数为：

$J(\\theta) = \\frac{1}{2m} \\sum_{i=1}^{m} (h_\\theta(x^{(i)}) - y^{(i)})^2$

其中 $h_\\theta(x) = \\theta_0 + \\theta_1 x$ 是我们的假设函数。

## 梯度下降算法

更新规则：
$\\theta_j := \\theta_j - \\alpha \\frac{\\partial}{\\partial \\theta_j} J(\\theta)$

### 算法步骤

1. 初始化参数 $\\theta$
2. 计算代价函数 $J(\\theta)$
3. 更新参数
4. 重复直到收敛`,

                            'docs/数学/线性代数基础.md': `# 线性代数基础

## 矩阵运算

### 矩阵乘法

设 $A$ 为 $m \\times n$ 矩阵，$B$ 为 $n \\times p$ 矩阵，则：

$C = AB$

其中 $c_{ij} = \\sum_{k=1}^{n} a_{ik}b_{kj}$

### 特征值和特征向量

对于方阵 $A$，如果存在非零向量 $\\mathbf{v}$ 和标量 $\\lambda$ 使得：

$A\\mathbf{v} = \\lambda\\mathbf{v}$

则称 $\\lambda$ 为特征值，$\\mathbf{v}$ 为对应的特征向量。

## 应用实例

线性代数在机器学习中的应用包括：
- 主成分分析 (PCA)
- 奇异值分解 (SVD)
- 最小二乘法`,

                            default: `# ${filePath}

这是一个示例Markdown文档，包含LaTeX数学公式支持。

## 数学公式示例

行内公式：质能方程 $E = mc^2$

块级公式：
$\\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}$

## 代码示例

\`\`\`python
import numpy as np
import matplotlib.pyplot as plt

def sigmoid(x):
    return 1 / (1 + np.exp(-x))
\`\`\`

## 总结

这个文档展示了如何在GitHub仓库中存储和渲染学术Markdown文档。`
                        };

                        const content = mockContents[filePath] || mockContents.default.replace('${filePath}', filePath);
                        resolve(content);
                    }, 500);
                });
            }

            preprocessLaTeX(markdown) {
                // 处理LaTeX数学表达式
                // 行内数学: $...$
                markdown = markdown.replace(/\$([^$\n]+?)\$/g, '\\($1\\)');

                // 块级数学: $...$
                markdown = markdown.replace(/\$\$([^$]+?)\$\$/g, '\\[$1\\]');

                // 处理LaTeX环境
                const latexEnvironments = [
                    'equation', 'align', 'gather', 'multline', 'split',
                    'array', 'matrix', 'pmatrix', 'bmatrix', 'vmatrix', 'Vmatrix'
                ];

                latexEnvironments.forEach(env => {
                    const regex = new RegExp(`\\\\begin\\{${env}\\}([\\s\\S]*?)\\\\end\\{${env}\\}`, 'g');
                    markdown = markdown.replace(regex, `\\[\\begin{${env}}$1\\end{${env}}\\]`);
                });

                return markdown;
            }

            showAcademicArticle(title, content) {
                const modal = document.createElement('div');
                modal.className = 'article-modal';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title">${title}</h1>
                            <div class="modal-actions">
                                <button class="modal-action-btn" id="toggleMath" title="重新渲染数学公式">
                                    <i class="fas fa-square-root-alt"></i>
                                </button>
                                <button class="modal-action-btn" id="shareArticle" title="分享文章">
                                    <i class="fas fa-share"></i>
                                </button>
                                <button class="close-modal">&times;</button>
                            </div>
                        </div>
                        <div class="modal-body tex2jax_process">
                            ${content}
                        </div>
                    </div>
                `;

                document.body.appendChild(modal);

                // 渲染LaTeX
                if (window.MathJax && window.MathJax.typesetPromise) {
                    window.MathJax.typesetPromise([modal.querySelector('.modal-body')]).then(() => {
                        console.log('Markdown文档LaTeX公式渲染完成');
                    }).catch((err) => {
                        console.error('LaTeX渲染错误:', err);
                    });
                }

                // 事件处理
                const closeBtn = modal.querySelector('.close-modal');
                const toggleMathBtn = modal.querySelector('#toggleMath');
                const shareBtn = modal.querySelector('#shareArticle');

                const closeModal = () => {
                    document.body.removeChild(modal);
                };

                closeBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });

                // 重新渲染MathJax
                toggleMathBtn.addEventListener('click', () => {
                    if (window.MathJax && window.MathJax.typesetPromise) {
                        window.MathJax.typesetPromise([modal.querySelector('.modal-body')]).then(() => {
                            this.showNotification('数学公式重新渲染完成！', 'success');
                        });
                    }
                });

                // 分享功能
                shareBtn.addEventListener('click', () => {
                    if (navigator.share) {
                        navigator.share({
                            title: title,
                            text: `查看学术文档：${title}`,
                            url: window.location.href
                        });
                    } else {
                        navigator.clipboard.writeText(`${title} - ${window.location.href}`);
                        this.showNotification('文档链接已复制到剪贴板！', 'success');
                    }
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') closeModal();
                }, { once: true });
            }

            parseGitHubUrl(url) {
                const patterns = [
                    /github\.com\/([^\/]+)\/([^\/]+)/,
                    /github\.com\/([^\/]+)$/
                ];

                for (const pattern of patterns) {
                    const match = url.match(pattern);
                    if (match) {
                        return {
                            owner: match[1],
                            repo: match[2] || null,
                            isUser: !match[2]
                        };
                    }
                }
                return null;
            }

            async fetchGitHubData(repoInfo) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        if (repoInfo.isUser) {
                            resolve({
                                type: 'user',
                                name: repoInfo.owner,
                                description: `${repoInfo.owner}的GitHub个人主页，包含多个开源项目和学术研究代码`,
                                url: `https://github.com/${repoInfo.owner}`,
                                language: 'Multiple Languages',
                                stars: '综合项目',
                                updated: new Date().toISOString().split('T')[0]
                            });
                        } else {
                            resolve({
                                type: 'repo',
                                name: repoInfo.repo,
                                owner: repoInfo.owner,
                                description: `${repoInfo.owner}/${repoInfo.repo} - 开源项目仓库，包含完整的代码实现和文档`,
                                url: `https://github.com/${repoInfo.owner}/${repoInfo.repo}`,
                                language: this.guessLanguage(repoInfo.repo),
                                stars: Math.floor(Math.random() * 500 + 10),
                                updated: new Date().toISOString().split('T')[0]
                            });
                        }
                    }, 1000);
                });
            }

            guessLanguage(repoName) {
                const langMap = {
                    'react': 'JavaScript',
                    'vue': 'JavaScript',
                    'angular': 'TypeScript',
                    'python': 'Python',
                    'java': 'Java',
                    'cpp': 'C++',
                    'go': 'Go',
                    'rust': 'Rust',
                    'web': 'HTML/CSS',
                    'api': 'JavaScript',
                    'ml': 'Python',
                    'ai': 'Python',
                    'deep': 'Python',
                    'neural': 'Python',
                    'data': 'Python',
                    'algorithm': 'C++',
                    'system': 'C',
                    'mobile': 'Java',
                    'ios': 'Swift',
                    'android': 'Kotlin'
                };

                const lowerName = repoName.toLowerCase();
                for (const [key, lang] of Object.entries(langMap)) {
                    if (lowerName.includes(key)) return lang;
                }
                return 'Multiple Languages';
            }

            createProjectCard(data) {
                if (this.emptyState) this.emptyState.style.display = 'none';
                if (this.articlesGrid) this.articlesGrid.style.display = 'grid';

                const projectCard = document.createElement('article');
                projectCard.className = 'article-card animate-fade-in hover-glow';
                projectCard.setAttribute('data-category', 'project');

                const displayName = data.type === 'user' ? data.name : `${data.owner}/${data.name}`;
                const icon = data.type === 'user' ? 'fa-user' : 'fa-code-branch';

                projectCard.innerHTML = `
                    <div class="article-image" style="background: linear-gradient(135deg, #24292e 0%, #40404a 100%);">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 3rem;">
                            <i class="fab fa-github"></i>
                        </div>
                    </div>
                    <div class="article-content">
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> ${data.updated}</span>
                            <span><i class="fas ${icon}"></i> ${data.type === 'user' ? '用户主页' : '代码仓库'}</span>
                            <span><i class="fas fa-code"></i> ${data.language}</span>
                            ${data.stars !== '综合项目' ? `<span><i class="fas fa-star"></i> ${data.stars} stars</span>` : `<span><i class="fas fa-folder"></i> 多项目</span>`}
                        </div>
                        <h3 class="article-title">${displayName}</h3>
                        <p class="article-excerpt">${data.description}</p>
                        <div class="article-tags">
                            <span class="tag">GitHub</span>
                            <span class="tag">${data.language}</span>
                            <span class="tag">${data.type === 'user' ? '开发者' : '开源项目'}</span>
                            <span class="tag">代码仓库</span>
                        </div>
                        <div class="article-footer">
                            <a href="${data.url}" class="read-more" target="_blank">
                                访问GitHub <i class="fas fa-external-link-alt"></i>
                            </a>
                            <div class="article-likes">
                                <i class="fab fa-github"></i>
                            </div>
                        </div>
                    </div>
                `;

                if (this.articlesGrid) {
                    this.articlesGrid.insertBefore(projectCard, this.articlesGrid.firstChild);
                }
            }

            showLoadingState() {
                if (this.generateBtn) {
                    this.generateBtn.disabled = true;
                    this.generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 生成中...';
                }
            }

            hideLoadingState() {
                if (this.generateBtn) {
                    this.generateBtn.disabled = false;
                    this.generateBtn.innerHTML = '<i class="fab fa-github"></i> 生成项目卡片';
                }
            }

            showMdLoadingState() {
                if (this.loadMdBtn) {
                    this.loadMdBtn.disabled = true;
                    this.loadMdBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 加载中...';
                }
            }

            hideMdLoadingState() {
                if (this.loadMdBtn) {
                    this.loadMdBtn.disabled = false;
                    this.loadMdBtn.innerHTML = '<i class="fas fa-file-alt"></i> 加载MD文档';
                }
            }

            showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i>
                    <span>${message}</span>
                    <button class="close-notification">&times;</button>
                `;

                document.body.appendChild(notification);
                setTimeout(() => notification.classList.add('show'), 10);

                const closeNotification = () => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            document.body.removeChild(notification);
                        }
                    }, 300);
                };

                notification.querySelector('.close-notification').addEventListener('click', closeNotification);
                setTimeout(closeNotification, 5000);
            }
        }

        const gitHubManager = new GitHubIntegrationManager();

        // LaTeX Demo Manager
        class LaTeXDemoManager {
            constructor() {
                this.reRenderBtn = document.getElementById('re-render-latex');
                this.initEventListeners();
                this.initialRender();
            }

            initEventListeners() {
                if (this.reRenderBtn) {
                    this.reRenderBtn.addEventListener('click', () => this.reRenderLaTeX());
                }
            }

            initialRender() {
                // Initial LaTeX rendering after page load
                if (window.MathJax && window.MathJax.typesetPromise) {
                    window.MathJax.typesetPromise().then(() => {
                        console.log('LaTeX初始渲染完成');
                    }).catch(err => {
                        console.error('LaTeX初始渲染错误:', err);
                    });
                }
            }

            reRenderLaTeX() {
                if (this.reRenderBtn) {
                    this.reRenderBtn.disabled = true;
                    this.reRenderBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 渲染中...';
                }

                if (window.MathJax && window.MathJax.typesetPromise) {
                    // Clear existing MathJax output
                    window.MathJax.typesetClear();

                    // Re-render all math
                    window.MathJax.typesetPromise().then(() => {
                        this.showNotification('LaTeX数学公式重新渲染完成！', 'success');
                        console.log('LaTeX重新渲染完成');
                    }).catch(err => {
                        this.showNotification('LaTeX渲染失败，请检查公式语法', 'error');
                        console.error('LaTeX重新渲染错误:', err);
                    }).finally(() => {
                        if (this.reRenderBtn) {
                            this.reRenderBtn.disabled = false;
                            this.reRenderBtn.innerHTML = '<i class="fas fa-square-root-alt"></i> 重新渲染LaTeX公式';
                        }
                    });
                } else {
                    this.showNotification('MathJax未加载，请刷新页面', 'error');
                    if (this.reRenderBtn) {
                        this.reRenderBtn.disabled = false;
                        this.reRenderBtn.innerHTML = '<i class="fas fa-square-root-alt"></i> 重新渲染LaTeX公式';
                    }
                }
            }

            showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i>
                    <span>${message}</span>
                    <button class="close-notification">&times;</button>
                `;

                document.body.appendChild(notification);
                setTimeout(() => notification.classList.add('show'), 10);

                const closeNotification = () => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            document.body.removeChild(notification);
                        }
                    }, 300);
                };

                notification.querySelector('.close-notification').addEventListener('click', closeNotification);
                setTimeout(closeNotification, 5000);
            }
        }

        new LaTeXDemoManager();

        // Stats Counter Animation
        class StatsCounter {
            constructor() {
                this.counters = document.querySelectorAll('.stat-number');
                this.observer = new IntersectionObserver(
                    entries => this.handleIntersection(entries),
                    { threshold: 0.5 }
                );

                this.counters.forEach(counter => this.observer.observe(counter));
            }

            handleIntersection(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
                        this.animateCounter(entry.target);
                        entry.target.classList.add('counted');
                    }
                });
            }

            animateCounter(element) {
                const target = parseInt(element.getAttribute('data-target'));
                const duration = 2000;
                const steps = 60;
                const stepValue = target / steps;
                let current = 0;

                const timer = setInterval(() => {
                    current += stepValue;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    element.textContent = Math.floor(current);
                }, duration / steps);
            }
        }

        new StatsCounter();

        // Enhanced Smooth Scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offsetTop = target.offsetTop - 80;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Initialize syntax highlighting for code blocks
        if (window.hljs) {
            hljs.highlightAll();
        }

        // Enhanced Service Worker for Academic PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'pku-academic-github-v1';
                    const urlsToCache = [
                        '/',
                        'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap',
                        'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js',
                        'https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css'
                    ];

                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });

                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => {
                                    return response || fetch(event.request);
                                })
                        );
                    });

                    self.addEventListener('sync', event => {
                        if (event.tag === 'github-sync') {
                            event.waitUntil(doGitHubSync());
                        }
                    });

                    function doGitHubSync() {
                        return self.registration.showNotification('GitHub项目已同步', {
                            body: 'GitHub项目数据已成功同步到本地缓存。',
                            icon: '/icon-192x192.png',
                            badge: '/badge-72x72.png'
                        });
                    }
                `;

                const swBlob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(swBlob);

                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('GitHub Academic SW registered:', registration);

                        if ('sync' in registration) {
                            registration.sync.register('github-sync');
                        }
                    })
                    .catch(error => console.log('SW registration failed:', error));
            });
        }

        // Initialize MathJax configuration for better academic rendering
        if (window.MathJax) {
            window.MathJax.startup.document.state(0);
            window.MathJax.texReset();
            window.MathJax.typesetPromise().then(() => {
                console.log('🔬 MathJax initialized for academic content');
            });
        }

        console.log('🚀 Enhanced PKU Academic Website with GitHub Integration loaded successfully!');
        console.log('📧 Contact: 2400012892@stu.pku.edu.cn');
        console.log('🔗 GitHub: https://github.com/Yimisda');
        console.log('🔬 Features: LaTeX rendering, GitHub integration, Academic typography');
    </script>
</body>
</html>